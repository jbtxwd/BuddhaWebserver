'use strict';

const receipt = {
	data: {
	"orderId":"GPA.3351-2265-8541-88205",
	"packageName":"org.ieee.mobile.sa.nesc",
	"productId":"org.ieee.mobile.sa.nesc.premium",
	"purchaseTime":1488769384383,
	"purchaseState":0,
	"purchaseToken":"dnipacadlpfpkaaachgpmakk.AO-J1OzSZ1nZxr0Bt2oYfeEQ0L975nGqRtZcEoI_grlclkCpHj9_Lr7zkITAszS8ZBfxP32QCYJkSEBWVH2TWMulF7bgaJqNHholS4aJ1KRxaqEh_dy4zyRzXKXg52oJUC_oMdCcG1LQJ0Ui2zQLZ_5h8LepU3760A"
	},
	signature: 'dZ+KkgSPRyMx1We9DqC80fNiBAGiHN5aVfDunc0vqDRW26fXIFiSpkXrX4WI10WvdJsFqphfmBJUd2LgEnq/4K37Bk8MD35QNwh6/f3C7fGZtnrcxXjV2B3nf1ZJrCznHqrUg+EIHoP+fN/+UfAGz4nhUMRF/mDbbkiN6GWltcFSNntOlX5Yb30zIe1s+NXGysUdkuF4akNISuTitx+3baxKCTH2L/Zb2a2PPzlD0KTJJrXGtWPWl/IjrI+08RmeCSLD432i2qqUdhlXXt3199js2bguavM4vhA20FuQgOacMZ2L+AK41f0z+jM2TxzOEUyYbSvx1+GqbjFFI+Lczg=='
};

const pubKey = 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyCiZw7R8dVHxDOlvcIFTLjHxc8DyPeklur5DHbkM6lZ20zJAbCBMYUScO6O4X0Rt6KPBL3VbtFLl0TaKuSFbeKutd5Bys8ectK4zgGrMgdKEpbeZhxdGVKMHUZmy3RWeMMCNNCaTmPXqrz3rf2Dxj3hyBub5EMd41XpyjgEdwNtnt0MPByUBKoj69g0cwANHcrwjexFcuATiP9VTr7GHS5ipsgYKX91o1Rljmbu/BFr5Nyq6P62cYGXFj5hSt3zmgBTqeh9o9Ohzy17DhUQgOsOQyQ1gxnTByeBPdjLdgJRKExvRArNMjjQNNfmUC5NJdb48wgbiQAzHOW3o6LxHSwIDAQAB';

const iap = require('./index');

iap.config({
	verbose: true,
	googlePublicKeyStrLive: pubKey
});

iap.setup(() => {
	iap.validate(receipt, (error, response) => {
		console.log(error, response);
	});
});

